!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="650c7ba3-bb65-4572-8075-dea91177df90",e._sentryDebugIdIdentifier="sentry-dbid-650c7ba3-bb65-4572-8075-dea91177df90")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9410],{47860:function(e,t,s){"use strict";var r=s(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 14 14","aria-hidden":!0,...e,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M14 10.856c0-1.53-.623-2.316-1.174-3.01-.49-.617-.877-1.105-.877-2.158v-.041a4.94 4.94 0 0 0-1.45-3.51A4.9 4.9 0 0 0 7.685.731V.684a.684.684 0 1 0-1.368 0v.048c-2.406.337-4.265 2.431-4.265 4.956 0 1.053-.387 1.541-.877 2.159C.624 8.54 0 9.325 0 10.855v.036a1.78 1.78 0 0 0 1.777 1.742h3.856C5.633 13.387 6.246 14 7 14s1.367-.613 1.367-1.367h3.856A1.78 1.78 0 0 0 14 10.856m-1.777.41H1.777a.41.41 0 0 1-.41-.41c0-1.054.387-1.542.877-2.16.55-.693 1.174-1.478 1.174-3.008 0-2.005 1.606-3.636 3.58-3.637H7c.956 0 1.855.373 2.532 1.052a3.58 3.58 0 0 1 1.05 2.585c0 1.53.624 2.315 1.174 3.008.49.618.877 1.106.877 2.16a.41.41 0 0 1-.41.41",clipRule:"evenodd"})})},77467:function(e,t,s){"use strict";var r=s(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M469.1 287c-17.9-22.6-32.1-40.4-32.1-79v-1.4c0-48.5-18.8-94.1-53-128.3-28.2-28.3-64.1-46.1-103-51.4V25c0-13.8-11.2-25-25-25s-25 11.2-25 25v1.8C143 39.1 75 115.7 75 208c0 38.5-14.2 56.4-32.1 79C22.8 312.3 0 341 0 397v1.3C.7 433.5 29.6 462 65 462h141c0 27.6 22.4 50 50 50s50-22.4 50-50h141c35.4 0 64.3-28.5 65-63.7V397c0-56-22.8-84.7-42.9-110"})})},3506:function(e,t,s){"use strict";var r=s(97458);t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,r.jsx)("path",{d:"M428 231.5H317v-65c0-13.807-11.193-25-25-25H122c-13.807 0-25 11.193-25 25v65H-14c-13.807 0-25 11.193-25 25s11.193 25 25 25h25v306c0 35.841 29.159 65 65 65h262c35.841 0 65-29.159 65-65v-306h25c13.807 0 25-11.193 25-25s-11.193-25-25-25m-281-40h120v40H147zm206 396c0 8.271-6.729 15-15 15H76c-8.271 0-15-6.729-15-15v-306h292z"}),(0,r.jsx)("path",{d:"M150 341.5c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25m114 0c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25"})]})},48649:function(e,t,s){"use strict";s.d(t,{Pr:function(){return n},bZ:function(){return i},i7:function(){return r}});let r=e=>e.filter(e=>!e.dismissed),n=e=>e.sort((e,t)=>e.created&&t.created?t.created.getTime()-e.created.getTime():0),i=e=>e.filter(e=>{var t,s;return(null===(t=e.extras)||void 0===t?void 0:t.showOnlyIn)==="front"||!(null===(s=e.extras)||void 0===s?void 0:s.showOnlyIn)})},39410:function(e,t,s){"use strict";s.r(t),s.d(t,{NotificationCenter:function(){return Z}});var r=s(97458),n=s(44881),i=s(25604),a=s(66827),l=s(19974),c=s(770),o=s(9249),d=s(96065),u=s(57291),x=s(7616),f=s(10893),h=s(52983),m=s(23113),p=s(72538),g=s(20409),b=s(47860);let v=()=>{let{t:e}=(0,f.$G)("common");return(0,r.jsxs)("div",{className:"m-4 flex h-[176px] flex-col items-center gap-5 text-center",children:[(0,r.jsx)("div",{className:"mt-12 grid size-[56px] min-h-[56px] min-w-[56px] items-center justify-center rounded-[6px] bg-[#E5F0FD] text-[#006EF0] dark:bg-[#1F408C] dark:text-[#E5F0FD]",children:(0,r.jsx)(c.J,{size:"2xl",as:b.Z})}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("p",{className:"$sprinkles-text-base font-semibold leading-[22px] text-surface-foreground-1",children:e("notifications.emptyTitle")}),(0,r.jsx)("p",{className:"text-sm leading-[22px] text-surface-foreground-2",children:e("notifications.emptyText")})]})]})};var j=s(46748),$=s(3506),w=s(98821),y=s.n(w),z=s(5239);let k=e=>e.split(/(<br>|<b>.*?<\/b>|<i>.*?<\/i>)/g).map((e,t)=>{if("<br>"===e)return(0,r.jsx)("br",{},t);if(e.startsWith("<b>")&&e.endsWith("</b>")){let s=e.slice(3,-4);return(0,r.jsx)("strong",{children:s},t)}if(!(e.startsWith("<i>")&&e.endsWith("</i>")))return e;{let s=e.slice(3,-4);return(0,r.jsx)("em",{children:s},t)}}),N=e=>{let t=(0,h.useRef)(null);return(0,h.useEffect)(()=>{let r=t.current,n=new IntersectionObserver(async r=>{let[i]=r;i.isIntersecting&&1===i.intersectionRatio&&!e.viewed&&((await Promise.all([s.e(3936),s.e(9392)]).then(s.bind(s,60964)).then(e=>e.logContentCardImpressions))([e]),t.current&&n.unobserve(t.current))},{threshold:1});return t.current&&!e.viewed&&n.observe(t.current),()=>{r&&n.unobserve(r)}},[t,e]),{ref:t}},_=e=>{let{item:t}=e,{t:s}=(0,f.$G)("common");if(!t.created)return null;let{time:n,ago:i}=(0,j.B)(t.created);return(0,r.jsx)("span",{children:s(i,{time:n})})},C=e=>{var t;let{item:n}=e,[a,l]=(0,h.useState)(!1),[o,d]=(0,h.useState)(!1),{t:u}=(0,f.$G)("common"),{setCards:x}=(0,i.JI)(),{ref:m}=N(n),p=()=>x(e=>e.filter(e=>e.id!==n.id)),g=(null===(t=n.extras)||void 0===t?void 0:t.video)&&!a,b="string"==typeof n.imageUrl&&!g&&!o;return(0,r.jsxs)("div",{className:"$p-[15px] $bg-surface-1 $rounded-[8px] $sprinkles-text-sm $text-surface-foreground-2",ref:m,children:[(0,r.jsxs)("p",{className:"$flex $items-center $justify-between text-surface-foreground-2 text-xs $mb-[5px]",children:[(0,r.jsx)(z.SV,{fallback:(0,r.jsx)("span",{}),children:(0,r.jsx)(_,{item:n})}),!n.viewed&&(0,r.jsx)("span",{className:"$inline-block $w-[10px] $h-[10px] $rounded-[9999px] $bg-blueFreepik"})]}),g&&(0,r.jsx)("video",{className:"$block $max-w-full $h-auto",controls:!1,controlsList:"nodownload",playsInline:!0,autoPlay:!1,loop:!1,onError:()=>l(!0),children:(0,r.jsx)("source",{src:n.extras.video,type:"video/mp4"})}),b&&(0,r.jsx)(y(),{src:n.imageUrl,alt:"",className:"$w-full $h-auto $rounded-[8px] $pb-[5px]",width:360,height:96,onError:()=>d(!0)}),(0,r.jsx)("p",{className:"$sprinkles-text-base $font-semibold",children:n.title}),(0,r.jsx)("p",{className:"$sprinkles-text-sm $mt-[5px] $mb-[5px]",children:k(n.description)}),(0,r.jsxs)("div",{className:"$flex $items-center $justify-between $font-semibold $pt-[5px]",children:[(0,r.jsx)("a",{href:n.url,className:"text-surface-foreground-accent-0 $font-semibold",children:n.linkText}),n.dismissible&&(0,r.jsxs)("button",{className:"$flex $items-center $gap-[5px] $sprinkles-text-sm $text-surface-foreground-2 hover:$text-black",onClick:()=>Promise.all([s.e(3936),s.e(9392)]).then(s.bind(s,60964)).then(e=>{let{logCardDismissal:t}=e;t(n)&&p()}),children:[(0,r.jsx)(c.J,{as:$.Z,size:"sm"}),u("remove")]})]})]})},I=e=>e.filter(e=>!e.dismissed),O=e=>e.sort((e,t)=>e.created&&t.created?t.created.getTime()-e.created.getTime():0),T=()=>{let{cards:e}=(0,i.JI)(),t=(0,h.useMemo)(()=>e?O(I(e)):null,[e]);return t&&0!==t.length?(0,r.jsx)("div",{className:(0,u.cx)("flex-1 pl-4 pr-2 pb-4 flex flex-col gap-5",g.V),children:t.map(e=>(0,r.jsx)("div",{onClick:()=>!e.clicked&&Promise.all([s.e(3936),s.e(9392)]).then(s.bind(s,60964)).then(t=>{let{logContentCardClick:s}=t;s(e)}),children:(0,r.jsx)(C,{item:e},e.id)},e.id))}):(0,r.jsx)(v,{})};var D=s(77467),E=s(20131);let A=(0,h.forwardRef)((e,t)=>{let{isOpen:s}=e,{t:n}=(0,f.$G)("common"),{cards:a}=(0,i.JI)(),l=(0,E.Uu)(),d=a?a.filter(e=>!e.viewed&&!e.dismissed).length:0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.T,{children:n("notifications.title")}),(0,r.jsxs)("span",{ref:t,className:"".concat("relative $transition-all font-semibold sprinkles-text-base transition-all duration-150 ease-out hover:bg-surface-2 p-[9px] rounded-lg flex items-center cursor-pointer no-underline visited:text-inherit text-surface-foreground-0"," ").concat(l?"$text-white hover:$opacity-[0.7]":""),children:[(0,r.jsx)(c.J,{as:s?D.Z:b.Z,className:"size-[14px]"}),d>0&&(0,r.jsx)("span",{className:"$absolute $top-0 $right-0 $bg-blueFreepik $rounded-full $text-center $w-[15px] $h-[15px] $text-white $text-[10px] $leading-[18px] $font-bold $flex $items-center $justify-center",children:d})]})]})});A.displayName="NotificationTrigger";var M=s(60473),F=s.n(M);let Z=e=>{let{translations:t,ready:s}=e,g=(0,n.k)(),{t:b}=(0,f.$G)("common"),[v,j]=(0,h.useState)(!1),$=(0,m.a)("lgMax"),w=(0,m.a)("xlMax"),y="anchored"===(0,x.Dv)(p.tL),z=(0,h.useMemo)(()=>y?w?20:75:20,[y,w]);if(!g)return null;let k=(0,r.jsx)("button",{onClick:()=>j(!v),children:(0,r.jsx)(A,{isOpen:v})}),N=(0,u.cx)("p-[9px] text-ghost-foreground-0 flex items-center hover:bg-surface-2 transition-all duration-150 ease-out rounded-lg"),_=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,r.jsx)("p",{className:"font-semibold text-surface-foreground-1",children:b("notifications.title")}),(()=>{let e=$?a.x8:l.x8;return(0,r.jsx)(e,{asChild:!0,children:(0,r.jsxs)("button",{className:N,children:[(0,r.jsx)(c.J,{className:"size-[14px]",as:d.Z}),(0,r.jsx)(o.T,{children:b("close")})]})})})()]}),(0,r.jsx)(T,{})]}),C=(0,u.cx)("border-surface-border-alpha-0 bg-surface-1 text-surface-foreground-0 flex flex-col gap-0 overflow-y-auto overflow-x-hidden flex-1");return $?(0,r.jsx)(i.Dg,{translations:t,ready:s,children:(0,r.jsxs)(a.fC,{open:v,onOpenChange:()=>j(!v),children:[(0,r.jsx)(a.xz,{asChild:!0,children:k}),(0,r.jsxs)(a.h_,{children:[(0,r.jsx)(a.aV,{className:"fixed inset-0 z-50 bg-black/50"}),(0,r.jsx)(a.VY,{className:(0,u.cx)("fixed inset-0 z-50",C),children:_})]})]})}):(0,r.jsx)(i.Dg,{translations:t,ready:s,children:(0,r.jsxs)(l.fC,{open:v,onOpenChange:()=>j(!v),children:[(0,r.jsx)(l.xz,{asChild:!0,"aria-label":b("notifications.title"),children:k}),(0,r.jsx)(l.h_,{children:(0,r.jsx)(l.VY,{"data-sidebar-safezone":!0,side:"right",align:"end",sideOffset:z,alignOffset:-16,className:(0,u.cx)(C,"h-screen lg:origin-top-left w-[384px] max-h-screen z-10",v?F().fadeIn:F().fadeOut),children:_})})]})})}},44881:function(e,t,s){"use strict";s.d(t,{k:function(){return i}});var r=s(52983),n=s(94493);let i=()=>void 0!==(0,r.useContext)(n.U)},25604:function(e,t,s){"use strict";s.d(t,{Dg:function(){return o},JI:function(){return d}});var r=s(97458),n=s(52983),i=s(48649),a=s(53733);let l=(0,n.createContext)({}),c=e=>{let{children:t,setCards:r,translations:a,ready:l}=e,[c,o]=(0,n.useState)([]);return(0,n.useEffect)(()=>{Promise.all([s.e(3936),s.e(9392)]).then(s.bind(s,60964)).then(e=>{let{ClassicCard:t,CaptionedImage:s,openSession:r,requestContentCardsRefresh:n,subscribeToContentCardsUpdates:i,requestImmediateDataFlush:a}=e,l=e=>e instanceof t||e instanceof s,c=i(e=>{let{cards:t}=e;o(t.filter(l))});return r(),a(),n(),c})},[]),(0,n.useEffect)(()=>{l&&r((0,i.bZ)(c.map(e=>{var t;let s=null!==(t=e.extras)&&void 0!==t?t:{},r=s["extras.translation_key_title"],n=s["extras.translation_key_body"],i=s["extras.translation_key_cta"];if(!r&&!n&&!i)return e;let l=Object.create(Object.getPrototypeOf(e));return Object.assign(l,e),r&&a[r]&&(l.title=a[r]),n&&a[n]&&(l.description=a[n]),i&&a[i]&&(l.linkText=a[i]),l})))},[c,a,l]),t},o=e=>{let{children:t,translations:s,ready:i}=e,{isInitialized:o}=(0,a._)(),[d,u]=(0,n.useState)([]),x=(0,n.useMemo)(()=>({cards:d,setCards:u}),[d,u]),f=(0,r.jsx)(l.Provider,{value:x,children:t});return o?(0,r.jsx)(c,{translations:s,ready:i,setCards:u,children:f}):f},d=()=>(0,n.useContext)(l);s(87420);var u=s(1850);let x=u.z.object({total:u.z.number(),unread:u.z.number()}),f=u.z.object({id:u.z.number(),sline:u.z.string(),phash:u.z.string(),created:u.z.number(),read:u.z.number(),content:u.z.string(),delivered_at:u.z.number(),blbl:u.z.string(),burl:u.z.string(),end:u.z.number(),card_url:u.z.string(),bg_color:u.z.string(),fg_color:u.z.string(),meta_data:u.z.object({appkey:u.z.string(),expiration:u.z.number()})}),h=u.z.object({meta:x,items:u.z.array(f)});u.z.object({data:h}).transform(e=>{let{data:t}=e;return t})},46748:function(e,t,s){"use strict";s.d(t,{B:function(){return n}});let r=[[86400,"timeAgo.day","timeAgo.days"],[3600,"timeAgo.hour","timeAgo.hours"],[60,"timeAgo.minute","timeAgo.minutes"]],n=e=>{let t=new Date;if(e>t)throw Error("Date is in the future");let s=e.getTime(),n=Math.floor((t.getTime()-s)/1e3),i=r.find(e=>n/e[0]>=1)||[1,"timeAgo.second","timeAgo.seconds"],a=Math.floor(n/i[0]);return{time:a,ago:a>1?i[2]:i[1]}}},60473:function(e){e.exports={fadeIn:"styles_fadeIn__vJ20A",fadeOut:"styles_fadeOut__P1mfk"}}}]);